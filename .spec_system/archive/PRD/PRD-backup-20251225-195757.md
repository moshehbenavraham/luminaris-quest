# Luminari's Quest - Product Requirements Document

## Overview

A therapeutic AI-powered RPG adventure designed to help young adults process trauma through interactive storytelling and journaling.

**Target Audience**: Young adults (18-25) who have experienced parental loss and homelessness during their teenage years.

**Built with**: React, TypeScript, Vite, Tailwind CSS, and Supabase

## Goals

1. Provide a safe, engaging environment for trauma processing through gameplay
2. Integrate therapeutic journaling with RPG mechanics
3. Track user progress and emotional growth through the Guardian Trust system
4. Deliver meaningful combat encounters that metaphorically represent internal struggles

## Phases

| Phase | Name                      | Sessions | Status      |
| ----- | ------------------------- | -------- | ----------- |
| 00    | DB Audit and Improvements | TBD      | Not Started |

## Phase 00: DB Audit and Improvements

### Objectives

1. Audit current database schema and identify issues
2. Improve database structure for better performance and maintainability
3. Ensure data integrity and proper relationships

### Sessions (To Be Defined)

Use `/nextsession` to get recommendations for sessions to implement.

## Technical Stack

- **Frontend**: React 19.2, TypeScript, Vite 7.2
- **Styling**: Tailwind CSS 4.1, Radix UI
- **State Management**: Zustand with persistence middleware
- **Backend**: Supabase (PostgreSQL with RLS)
- **Testing**: Vitest 4.0, React Testing Library

## Core Systems

### Guardian Trust System

- Scale: 0-100
- Milestones at 25, 50, 75, 100
- Affects combat outcomes and story progression

### Combat System

- Light Points (LP) and Shadow Points (SP) resources
- Four actions: Illuminate, Reflect, Endure, Shadow Embrace
- Shadow Manifestations as enemies (Doubt, Isolation, Overwhelm, Past Pain)

### Scene Engine

- 20 therapeutic scenarios
- Dice-based mechanics (d20 vs difficulty)
- Five scene types: social, skill, combat, journal, exploration

## Success Criteria

- [ ] Database schema is well-documented and optimized
- [ ] All RLS policies are properly configured
- [ ] Data migrations are tested and reversible
- [ ] Performance benchmarks meet requirements
